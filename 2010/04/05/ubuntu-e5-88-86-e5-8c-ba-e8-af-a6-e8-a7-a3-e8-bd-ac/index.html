<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>ubuntu分区详解-转 | Hear The Wind Sing</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="buaa,brisbane,qut,ivan,phd,it" />
  

  <meta name="description" content="一、双系统的分区方案（分区推荐选择GParted的LiveCD，可以从DistroWatch大本营下载回来刻成小光盘作为常备工具盘，当然其他分区工具也可以）：1.要搞双系统先装winxp,然后再装Linux;发行版本的安装程序会自动装上哥伦布(grub),并且建好双启动的菜单选项的；2.各种分区方案比较多，我推荐一个考虑得比较全面的供兄弟们参考下：一个主分区，8G，给win的C盘；用Gpart">
<meta property="og:type" content="article">
<meta property="og:title" content="ubuntu分区详解-转">
<meta property="og:url" content="http://www.ivivan.com/2010/04/05/ubuntu-e5-88-86-e5-8c-ba-e8-af-a6-e8-a7-a3-e8-bd-ac/index.html">
<meta property="og:site_name" content="Hear The Wind Sing">
<meta property="og:description" content="一、双系统的分区方案（分区推荐选择GParted的LiveCD，可以从DistroWatch大本营下载回来刻成小光盘作为常备工具盘，当然其他分区工具也可以）：1.要搞双系统先装winxp,然后再装Linux;发行版本的安装程序会自动装上哥伦布(grub),并且建好双启动的菜单选项的；2.各种分区方案比较多，我推荐一个考虑得比较全面的供兄弟们参考下：一个主分区，8G，给win的C盘；用Gpart">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2010-04-05T03:00:14.000Z">
<meta property="article:modified_time" content="2022-12-21T11:35:49.625Z">
<meta property="article:author" content="Ivan">
<meta name="twitter:card" content="summary">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41831109-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  

  


  

<meta name="generator" content="Hexo 6.3.0"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">L</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">L</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            S
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            T
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            M
          </a>
        </li>
      
    </ul>
  </div>


</div>




<div class="content content-post CENTER">
   <article id="post-ubuntu-e5-88-86-e5-8c-ba-e8-af-a6-e8-a7-a3-e8-bd-ac" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">ubuntu分区详解-转</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2010.04.05</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Ivan</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/">工作相关</a>
  </span>



      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <div id="msgcns!1326AB98D6395CF4!1736" class="bvMsg">

<p>一、双系统的分区方案（分区推荐选择GParted的LiveCD，可以从DistroWatch大本营下载回来刻成小光盘作为常备工具盘，当然其他分区工具也可以）：<br>1.要搞双系统先装winxp,然后再装Linux;发行版本的安装程序会自动装上哥伦布(grub),并且建好双启动的菜单选项的；<br>2.各种分区方案比较多，我推荐一个考虑得比较全面的供兄弟们参考下：<br>一个主分区，8G，给win的C盘；用Gparted的话，设备名是sda1;此分区用于安装Win系统，尽可能不要装应用程序，以减少镜像文件大小；<br>一个扩展分区，所有剩下的硬盘空间；设备名是sda2,但这只是个标识，实际是没用的；<br>说明：<br>有兄弟提出为什么不建三个主分区，再建一个扩展分区，这样第一扇区的512B中分区表空间利用的更充分。原因是这样的——<br>只要建扩展分区，建多个和建一个就是差不多的，反正要做分区表链接。<br>而且如果分三个主分区的话，很有可能出现盘符错乱,我以前也这样做过，结果易出问题，还是一主分区一个扩展分区最可靠，不会出盘符错乱问题。<br>根据高手朋友的看法，Win系统也是可以不装在C盘上；但为了盘符或设备号的有序，以及照顾有些特殊应用软件，还是把Win装在C盘(sda1)为佳。<br>3.在扩展分区上建7个逻辑盘，分别是:<br>sda5—-8G,fat32,留给win的D盘，装应用程序用；<br>sda6—-8G,fat32,留给win的E盘，装数据文件用；<br>sda7—-8G,fat32,留给win的F盘，作备份分区用，如输入法，火狐，中文办公软件，硬件驱动，各种应用软件，C盘的GHOST备份等；<br>然后还要再建4个逻辑盘，是专给linux用的：<br>sda8—-10G以上，ext3,挂载为／目录；如果硬盘较少，可以只分7G，若硬盘较大，还是多加几个G好，方便以后装大应用软件；<br>sda9—-512MBv1024MBv2048MB，swap格式，无挂载点；<br>sda10—-5G以上（如果不刻录DVD，1G也可以了），ext3,挂载为／tmp，若硬盘较大，可多分几个G，这样备份时方便点；<br>sda11—-所有剩下的磁盘空间，ext3,挂载为／home;<br>4.特别提醒注意，fat32文件系统对单个分区最大只支持32G(也有办法使分区大于32G，但效率低，不推荐分出超过32G的单个Fat32分区)！；<br>此外如果到了明年，linux分区格式的ext3可以全换成ext4；或是几年后，可以考虑使用btrfs文件系统。<br>5.装完双系统后，用dd命令把双启动的MBR备份下来，这样万一要重装win,可以迅速恢复原来的双启动菜单；<br>6.系统配置好后，win的C盘（sda1），lnx的／分区，lnx的／home分区都可以用备份工具备份下来。这样万一重装系统可以迅速还原；<br>说明：<br>各分区的大小，肯定要根据自己的硬盘来定，80G，120G，160G肯定会在决定各分区大小时有些差异。这不过是稍许调整分区大小的细节问题。<br>至于数据保存问题，用linux的人，当然把数据放在ext分区上比fat32要可靠得多，fat32用它不过是为了兼容性，实则fat文件系统不理想，连微软自己也不想用它. 但和linux共存时，用它方便数据共享而已，毕竟微软没有公开NTFS的细节，开源社区通过反汇编手段开发的NTFS－3G确实还不够完美。要不然我也推荐所有win分区用ntfs了。<br>这也是大多数发行版本默认编译的内核并不支持ntfs读写的原因，当然如果自己编译内核，当然可以把ntfs-3G编入内核。这样碰到ntfs也还是可以处理的。<br>二、单linux系统的分区方案（分区推荐选择GParted的LiveCD，可以从DistroWatch下载回来刻成小光盘作为常备工具盘，当然其他分区工具也可以）:<br>这种情况下无需建立扩展分区，一块硬盘可以全部分成四个主分区，MBR和所有分区信息全部保存在第一个512B的扇区里；查找分区信息最快。<br>具体方案如下：<br>sda1—10G-20G,ext3,挂载为／目录；如果所用硬盘较小，／分区可以小到7G，如果硬盘够大，就没必要省这几个G了，大点以后装大软件有余地；<br>sda2—256MB-512MB-1024MB-2048MB(请根据内存大小选择，为物理内存大小的1-2倍，但不要超过2048MB),swap,无需挂载点；<br>sda3—1G-5G（如果硬盘不够大，又不需刻录DVD，选1G，否则用5G为佳）,ext3,挂载为／tmp目录，硬盘大的可多分几个G，备份时方便点；<br>sda4—所有剩余磁盘空间,ext3,挂载为／home目录；<br>请注意分区的顺序、设备符和各目录挂载的次序，依次是&#x2F;，swap，&#x2F;tmp，&#x2F;home；综合磁头移臂次数较少，读写综合性能较优。<br>如果有特殊需要，可以用VBOX虚拟安装一个XP；推荐使用深度XP3的6.2以后版本，稳定性好，适合虚拟机安装。<br>VBOX中虚拟XP3的分区方案可以参考双系统中的Win分区方案，不过每个分区可以小点，各分2G就行了，如果按照VBOX推荐的10G的VDI划出虚拟硬盘，多出的2G可以留给F备份分区。<br>如果到了明年，linux分区格式的ext3可以全换成ext4;几年后，还可考虑采用btrfs文件系统。<br>系统配置好后lnx的／分区(sda1)，lnx的／home分区(sda4)都可以用备份工具备份下来。这样万一重装系统可以迅速还原；当然sda4可以在安装时不格式化；<br>这样重装系统时所有数据均可保留，但一定要记得还是挂下&#x2F;home下面。不过如果有大移动硬盘，能备份home数据当然更让人放心。<br>备份的工具有不少选择，最简单的可用tar命令。此外若想把整盘或整分区备份成镜像文件，台湾同胞的clonezilla可以考虑。<br>如果某些兄弟米多，拥有固态硬盘SSD（注意选择质量好的，否则还不如旋转硬盘！），可以大大提高linux系统的启动和程序运行速度。<br>关于swap分区和&#x2F;tmp独立分区的补充说明：<br>有些朋友对swap分区有更细致的说明如下。<br>swap分区根据物理内存来，物理内存小于512M时，swap&#x3D;物理内存的1.5-2倍，物理内存大于512M但小于768M时，swap&#x3D;物理内存的1-1.5倍，物理内存大于768M时，swap&#x3D;512M，<br>物理内存大于2G时，swap也不得超过2048MB（2G）。<br>不管怎样保留swap分区有必要（哪怕你有4G的物理内存也最好留点swap），有些应用软件，没swap分区可能会反应不良。<br>安装linux至少要两个独立分区，&#x2F;分区和swap分区（其实不用交换分区，改用交换文件也行，象win一样，但效率差很多）；<br>但是这样的方案一旦根分区出问题，很多私人数据也玩完了，如果需要重装系统的话，home的数据也会干掉，<br>所以，基本上用惯linux的人大多会建议把&#x2F;home单独分区，这样数据更安全，即使装新系统，个人数据仍然健在；因此&#x2F;home独立分区不会有什么异议；<br>至于把&#x2F;tmp独立分区，这是从多方面考虑的：<br>1、硬盘是旋转磁性存储器，是按柱面，磁道 ，扇区组织数据的，磁头会反复移动搜索数据。处理数据越集中，移动越小，效率更高。<br>2、由于现在用linux的人大多频繁在线升级，升级过程很多临时数据会使用&#x2F;tmp；还用许多应用程序工作时也会频繁使用&#x2F;tmp.用户自己下载软件安装包解包、配置、编译在&#x2F;tmp下进行也很合适。而且在完整备份&#x2F;分区时，可以不用理会&#x2F;tmp分区，以减少压缩镜像大小。<br>所以独立分区可以加快数据处理效率，也间接的保护了硬盘；<br>3、这样分出来的4个区，&#x2F;分区，swap分区，&#x2F;tmp,&#x2F;home分区，在备份数据时比较方便。<br>swap分区不用备份；<br>&#x2F;tmp分区也不用备份；<br>&#x2F;home分区可根据自己实际情况决定是否需要额外备份。因已独立分区，实则本身就是一种备份了，所以一般情况下可以不额外备份。<br>但如果硬盘使用不可靠，或是个人数据很重要，想要额外备份当然也可行，移动硬盘，光盘等都可选用；<br>&#x2F;分区（sda1）是否要备份就看个人喜欢了，如果经常要装各种新发行版本尝试，备份就没有多大意义；如果是已配置好的作为长期工作和学习的稳定系统，可以考虑备份。<br>这样可以节约大量重装系统和应用软件以及配置系统和软件的时间。<br>这是适合一般桌面系统的通用方案，如果是有做为各种服务应用的，会有更多的分区和优化考虑。<br>附1–顺便把dd命令的备份MBR的方法录下来，供兄弟们参考下(有的Linux的LiveCD用的设备号是&#x2F;dev&#x2F;hda，要注意下)：<br>[root@wangdu810 ~]# dd if&#x3D;&#x2F;dev&#x2F;sda of&#x3D;&#x2F;tmp&#x2F;mbr.bak0901 bs&#x3D;512 count&#x3D;1<br>1+0 records in<br>1+0 records out<br>#整个硬盘的MBR和初始分区表为512B，就是放在硬盘的第一个扇区，所以用上面的命令就可以将包含MBR的第1扇区数据完整备份出来！<br>最后得到的mbr.bak0901可以多找几个地方存放.如果你的&#x2F;Home是独立分区的话，在Home里可以单独建个目录mbrBACK,再把这个小文件放进去。<br>至于以后重装Win后恢复，应该不用我详细说了吧！无非是挂载存有mbr.bak文件的分区，再写回sda而已。真有问题再上论坛来交流吧！<br>附2–也把使用tar备份完整根文件系统的的命令列出来，供参考应用(备份前请把所有的移动介质卸载，如果是双系统请把挂载的Win分区也卸载)：<br>(1)、首先找回或设定root(超级用户)的密码(以前做过此步骤可以跳过此步骤)：<br>[wangdu2002@wangdu810 ~]$ sudo passwd root #Ubuntu默认是没启用root，建议还是重新设定root密码，必要时转成root，对某些情况还是很有用很方便的。<br>(2)、然后从普通身份转换成root身份：<br>[wangdu2002@wangdu810 ~]# su - #使用su命令切换成root用户。<br>(3)、使用tar工具，执行下面备份系统的命令(请注意此命令没有备份&#x2F;home！所以较适合&#x2F;home独立分区的情况；当然也可以备份&#x2F;home，但可能备份的系统包超大！)：<br>[root@wangdu810 ~]# tar –exclude &#x2F;proc –exclude &#x2F;mnt –exclude &#x2F;media –exclude &#x2F;tmp –exclude &#x2F;home -zcvpf &#x2F;tmp&#x2F;ubt810host0902.tgz &#x2F;<br>#也可以备份到主目录下或其他目录下，备份的文件名可以自己取。因本人&#x2F;tmp独立分区，所以系统备份包就放在&#x2F;tmp下了，&#x2F;home&#x2F;xxxx&#x2F;下还复制了一份，双保险。<br>  </div></p>

    
  </div>

</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2010/03/24/e8-bf-99-e4-b8-80-e5-91-a8-ef-bc-8c-e8-b5-b6-e5-bf-ab-e8-bf-87-e5-8e-bb/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2010/04/12/axel-e4-b8-8b-e8-bd-bd-e5-b7-a5-e5-85-b7-e5-91-bd-e4-bb-a4/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">Close</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              S
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              T
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              M
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
