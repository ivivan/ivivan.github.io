<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>VMWare Workstation use RedHat Enterprise6搭建Hadoop运行环境 | Hear The Wind Sing</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="buaa,brisbane,qut,ivan,phd,it" />
  

  <meta name="description" content="学校不允许使用固定IP，手头没有路由器，服务器机房不通网，每周例会时间紧迫，只得用VMware 虚拟Linux3台，跑跑实验应付过关，参考他人工作，总结如下： 整个Hadoop环境搭建过程用到了三个虚拟机：Red Hat Linux1、Red Hat Linux2、Red Hat Linux3，其IP地址分别为192.168.11.188、192.168.11.189、192.168.11.190">
<meta property="og:type" content="article">
<meta property="og:title" content="VMWare Workstation use RedHat Enterprise6搭建Hadoop运行环境">
<meta property="og:url" content="http://www.ivivan.com/2012/11/23/vmware-workstation-use-redhat-enterprise6-e6-90-ad-e5-bb-bahadoop-e8-bf-90-e8-a1-8c-e7-8e-af-e5-a2-83/index.html">
<meta property="og:site_name" content="Hear The Wind Sing">
<meta property="og:description" content="学校不允许使用固定IP，手头没有路由器，服务器机房不通网，每周例会时间紧迫，只得用VMware 虚拟Linux3台，跑跑实验应付过关，参考他人工作，总结如下： 整个Hadoop环境搭建过程用到了三个虚拟机：Red Hat Linux1、Red Hat Linux2、Red Hat Linux3，其IP地址分别为192.168.11.188、192.168.11.189、192.168.11.190">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/0_13068324876v1g_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/0_1306832587vukw_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/0_1306833927dp9i_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/0_1306833972oz5m_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/1_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/2_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/3_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/4_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/5_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/6_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/7_thumb.gif">
<meta property="og:image" content="http://ivanbuaa.files.wordpress.com/2012/11/8_thumb.gif">
<meta property="article:published_time" content="2012-11-23T15:25:00.000Z">
<meta property="article:modified_time" content="2022-12-21T13:04:45.942Z">
<meta property="article:author" content="Ivan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ivanbuaa.files.wordpress.com/2012/11/0_13068324876v1g_thumb.gif">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41831109-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  

  


  

<meta name="generator" content="Hexo 6.3.0"></head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">L</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">L</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            S
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            T
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            M
          </a>
        </li>
      
    </ul>
  </div>


</div>




<div class="content content-post CENTER">
   <article id="post-vmware-workstation-use-redhat-enterprise6-e6-90-ad-e5-bb-bahadoop-e8-bf-90-e8-a1-8c-e7-8e-af-e5-a2-83" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">VMWare Workstation use RedHat Enterprise6搭建Hadoop运行环境</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2012.11.23</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Ivan</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/%E5%9B%BD%E5%A2%83%E4%BB%A5%E5%8D%97/">国境以南</a> / <a class="article-category-link" href="/categories/%E5%9B%BD%E5%A2%83%E4%BB%A5%E5%8D%97/%E5%B7%A5%E4%BD%9C%E7%9B%B8%E5%85%B3/">工作相关</a>
  </span>



      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <p><font size="2" face="微软雅黑">学校不允许使用固定IP，手头没有路由器，服务器机房不通网，每周例会时间紧迫，只得用VMware 虚拟Linux3台，跑跑实验应付过关，参考他人工作，总结如下：</font></p>
<p><font size="2" face="微软雅黑">整个Hadoop环境搭建过程用到了三个虚拟机：Red Hat Linux1、Red Hat Linux2、Red Hat Linux3，其IP地址分别为192.168.11.188、192.168.11.189、192.168.11.190（具体为虚拟机分配IP的过程下面详细说明）。其中192.168.11.188作为Hadoop的Namenode和Jobtracker。其他两台机器均作为Datanode和Tasktracker。</font></p>
<p><font size="2" face="微软雅黑"></font></p>
<p><font size="2" face="微软雅黑">环境搭建过程中用到的软件及版本如下：</font></p>
<p><font face="微软雅黑"></font><font size="2"><strong>VMWare Workstation****：VMware-workstation-full-9.0.1</strong></font></p>
<p><strong><font size="2" face="微软雅黑">JDK：1.7</font></strong></p>
<p><strong><font size="2" face="微软雅黑">Hadoop：hadoop-1.0.3</font></strong></p>
<p><strong><font size="2" face="微软雅黑">Linux：Redhat Linux Enterprise 6</font></strong></p>
<p><font size="2" face="微软雅黑">安装过程：</font></p>
<p><strong><font size="2" face="微软雅黑">一、VMWare Workstation安装</font></strong></p>
<p><font size="2" face="微软雅黑">&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; 略，软件官网下载，序列号下列任选</font></p>
<p><font size="2" face="微软雅黑">JA4YE-48J57-VZEF1-D91ZP-3CDP9<br>4U6W2-2D290-4ZE08-2VCE6-2CDM9<br>JG6QL-06J0J-ZZY21-TJAQ6-0256M<br>NY0K2-2ULDJ-LZUP1-MV154-8363F<br>4F4R4-AEK53-TZYU9-KK9X4-9AWPQ</font></p>
<p><strong><font size="2" face="微软雅黑">二、虚拟机的安装</font></strong></p>
<p><strong><font size="2" face="微软雅黑">安装过程自动，Redhat Enterprise6虚拟机至少需要划分12G硬盘空间，否则提示空间不足，可创建三次虚拟机，也可创建一次Copy两次，不过后者需要手动修改网卡Mac地址，否则三个虚拟机一样无法互联</font></strong></p>
<p><font size="2" face="微软雅黑"></font></p>
<p><strong><font size="2" face="微软雅黑">1. 更改三个虚拟机的网络连接方式</font></strong></p>
<p><font size="2" face="微软雅黑">选中虚拟机点击Setting, 如下图：</font></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/0_13068324876v1g.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/0_13068324876v1g_thumb.gif" alt="0_13068324876V1G" title="0_13068324876V1G"></font></a></p>
<p><font size="2" face="微软雅黑"></font></p>
<p><strong><font size="2" face="微软雅黑">2. 配置虚拟机的IP地址和主机名</font></strong></p>
<p><font size="2" face="微软雅黑">Linux Terminal 里改为Root用户 su root</font></p>
<p><font size="2" face="微软雅黑">输入如下指令：</font></p>
<p><font size="2" face="微软雅黑">vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-eth0</font></p>
<p><font size="2" face="微软雅黑">三台虚拟机分别设置IP地址和默认网关，进行保存</font></p>
<p><font size="2" face="微软雅黑">BOOTPROTO&#x3D;&quot;static&quot;<br>IPADDR&#x3D;&quot;192.168.11.188&quot;<br>GATEWAY&#x3D;&quot;192.168.11.9&quot;<br>NETMASK&#x3D;&quot;255.255.255.0&quot;<br>ONBOOT&#x3D;&quot;yes&quot;<br>添加修改以上几项即可</font></p>
<p><font size="2" face="微软雅黑">vi简单使用，i 键进入编辑模式，esc退出至只读，:进入命令行，wq保存退出</font></p>
<p><font size="2" face="微软雅黑">3. 配置虚拟机主机名</font></p>
<p><font size="2" face="微软雅黑">vi &#x2F;etc&#x2F;sysconfig&#x2F;network</font></p>
<p><font size="2" face="微软雅黑">HOSTNAME&#x3D;redhat1</font></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/0_1306832587vukw.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/0_1306832587vukw_thumb.gif" alt="0_1306832587vUKw" title="0_1306832587vUKw"></font></a></p>
<p><font size="2" face="微软雅黑">三 安装JAVA JDK</font></p>
<p><font size="2" face="微软雅黑">外部文件可直接COPY到虚拟机目录中，不需安装软件</font></p>
<p><font size="2" face="微软雅黑">例如COPY Java Jdk至 Downloads文件夹，命令行执行如下</font></p>
<p><font size="2" face="微软雅黑">rpm -ivh jdk-7u9-linux-x64.rpm</font></p>
<p><font size="2" face="微软雅黑">JDK自动安装至 &#x2F;usr&#x2F;java文件夹下</font></p>
<p><font size="2" face="微软雅黑">命令行输入java查看是否安装成功</font></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/0_1306833927dp9i.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/0_1306833927dp9i_thumb.gif" alt="0_1306833927DP9i" title="0_1306833927DP9i"></font></a></p>
<p><font size="2" face="微软雅黑"></font></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/0_1306833972oz5m.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/0_1306833972oz5m_thumb.gif" alt="0_1306833972Oz5m" title="0_1306833972Oz5m"></font></a></p>
<p><strong><font size="2" face="微软雅黑">至此，JDK安装和配置全部完成</font></strong></p>
<p><strong><font size="2" face="微软雅黑">四 建立虚拟机之间SSH无密码登陆</font></strong></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/1.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/1_thumb.gif" alt="1" title="1"></font></a></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/2.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/2_thumb.gif" alt="2" title="2"></font></a></p>
<p><font size="2" face="微软雅黑">注意 执行如 ssh localhost后开通ssh服务，需exit后再执行其它命令</font></p>
<p><font size="2" face="微软雅黑">Copy id_dsa.pub 文件至子结点时 scp &#x2F;root&#x2F;.ssh&#x2F;id_dsa.pub </font><a href="mailto:root@192.168.11.189:/root"><font size="2" face="微软雅黑">root@192.168.11.189:/root</font></a></p>
<p><font size="2" face="微软雅黑">注意写全路径或进入root目录下执行命令，否则可能找不到文件，同理之后操作</font></p>
<p><font size="2" face="微软雅黑">cat &#x2F;root&#x2F;id_dsa.pub &gt;&gt; &#x2F;root&#x2F;.ssh&#x2F;authorized_keys</font></p>
<p><strong><font size="2" face="微软雅黑">虚拟机之间SSH无密码登录配置成功，下面就要进行Hadoop环境的安装</font></strong></p>
<p><strong><font size="2" face="微软雅黑">五 Hadoop 环境安装</font></strong></p>
<p><strong><font size="2" face="微软雅黑">1. 安装Hadoop</font></strong></p>
<p><strong><font size="2" face="微软雅黑">官网下载，只需解压，放在&#x2F;usr下</font></strong></p>
<p><strong><font size="2" face="微软雅黑">解压命令 tar –zvxf hadoop-1.0.3.tar.gz</font></strong></p>
<p><strong><font size="2" face="微软雅黑">移动命令 cp –r hadoop-1.0.3 &#x2F;usr</font></strong></p>
<p><strong><font size="2" face="微软雅黑">2. 配置Hadoop 环境变量</font></strong></p>
<p><strong><font size="2" face="微软雅黑">vi &#x2F;etc&#x2F;profile</font></strong></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/3.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/3_thumb.gif" alt="3" title="3"></font></a></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/4.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/4_thumb.gif" alt="4" title="4"></font></a></p>
<p><font size="2" face="微软雅黑"></font></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/5.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/5_thumb.gif" alt="5" title="5"></font></a></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/6.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/6_thumb.gif" alt="6" title="6"></font></a></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/7.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/7_thumb.gif" alt="7" title="7"></font></a></p>
<p><a target="_blank" rel="noopener" href="http://ivanbuaa.files.wordpress.com/2012/11/8.gif"><font size="2" face="微软雅黑"><img src="http://ivanbuaa.files.wordpress.com/2012/11/8_thumb.gif" alt="8" title="8"></font></a></p>
<p><font size="2" face="微软雅黑">注意去掉#注释</font></p>
<p><font size="2" face="微软雅黑">最后一副图中mapred-site.xml配置,应为：</font></p>
<p><font size="2" face="微软雅黑">&lt;name&gt;mapred.job.tracker&lt;&#x2F;name&gt;</font></p>
<p>三个虚拟器都要改一下</p>
<p>修改DNS服务器</p>
<p>vi &#x2F;etc&#x2F;resolv.conf</p>
<p>nameserver 192.168.11.9</p>
<p>vi &#x2F;etc&#x2F;hosts</p>
<p>192.168.11.188 redhat1</p>
<p>192.168.11.189 redhat2</p>
<p>192.168.11.190 redhat3</p>
<p>vi &#x2F;etc&#x2F;hostname</p>
<p>redhat1</p>
<p>&amp;#160;</p>
<p><font size="2" face="微软雅黑">环境搭建完成</font></p>
<p>六 验证是否成功</p>
<p>在master结点主机192.168.11.188执行如下命令，格式化文件系统</p>
<p><code>cd</code> <code>/usr/hadoop-1.0.3/</code></p>
<p><code>bin``/hadoop</code> <code>namenode –``format</code></p>
<p><code>在master结点上执行如下命令启动系统，只需在master节点执行</code></p>
<p><code>bin/start-all.sh(stop-all.sh)启动全部</code></p>
<p><code>bin/start-dfs.sh(stop-dfs.sh)启动HDFS文件系统</code></p>
<p><code>bin/start-mapred.sh(stop-mapred.sh)启动Mapreduce框架</code></p>
<p><code>在master与data结点分别运行JPS，查看是否正常开启</code></p>
<p><code>列出HDFS文件系统存在的目录</code></p>
<p><code>hadoop fs –ls 或 hadoop fs –ls \path</code></p>
<p><code>关于hadoop fs 指令详细参数说明见 hadoop fs</code></p>
<p><code>浏览器监视HDFS文件系统运行情况</code></p>
<p><code>输入[http://192.168.11.199:50070](http://192.168.11.199:50070)</code></p>
<p><code>查看任务运行情况</code></p>
<p><code>输入[http://192.168.11.188:50030](http://192.168.11.188:50030)</code></p>

    
  </div>

</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2012/11/09/e4-bf-9d-e6-8c-81-e5-ad-98-e5-9c-a8-e6-84-9f/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2012/11/23/mapreduce-e9-80-bb-e8-be-91-e8-bf-87-e7-a8-8b-e5-8f-8a-e6-95-b0-e6-8d-ae-e5-88-86-e5-9d-97-e5-ae-9a-e4-b9-89/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">Close</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              S
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              T
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              M
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
